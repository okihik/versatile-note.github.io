<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-08-29">

<title>Himagineer - Optimal Inventory Calculation: A Dynamic Approach</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/jquery-3.7.1/jquery.min.js"></script>
<script src="../../site_libs/ionrangeslider-javascript-2.3.1/js/ion.rangeSlider.min.js"></script>
<script src="../../site_libs/strftime-0.9.2/strftime-min.js"></script>
<link href="../../site_libs/ionrangeslider-css-2.3.1/css/ion.rangeSlider.css" rel="stylesheet">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Himagineer</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About me</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Optimal Inventory Calculation: A Dynamic Approach</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Inventory Management</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 29, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="calculating-optimal-inventory-a-dynamic-perspective" class="level2">
<h2 class="anchored" data-anchor-id="calculating-optimal-inventory-a-dynamic-perspective">Calculating Optimal Inventory: A Dynamic Perspective</h2>
<p>In our ongoing series on dynamic production and inventory management, we now delve into the practical aspect of <strong>optimal inventory calculation</strong>. This post will explore the methodology for determining appropriate inventory levels. The goal is to understand how various factors influence optimal inventory and how a dynamic approach can lead to more efficient supply chain management.</p>
<section id="understanding-the-optimal-inventory-calculation-tool" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-optimal-inventory-calculation-tool">Understanding the Optimal Inventory Calculation Tool</h3>
<p>The tocken.com website provides a tool for calculating optimal inventory based on various input parameters related to demand, lead time, and ordering policies. This tool is rooted in the “Inventory Dynamic Model,” which emphasizes the dynamic nature of inventory rather than static stock levels. For those unfamiliar with the foundational concepts, it is recommended to review the “Inventory Dynamic Management Basics” and related literature on the website.</p>
</section>
<section id="input-parameters-for-optimal-inventory-calculation" class="level3">
<h3 class="anchored" data-anchor-id="input-parameters-for-optimal-inventory-calculation">Input Parameters for Optimal Inventory Calculation</h3>
<p>The calculation of optimal inventory requires several key input parameters, which are categorized as follows:</p>
<section id="order-quantity-受注量" class="level4">
<h4 class="anchored" data-anchor-id="order-quantity-受注量">1. Order Quantity (受注量)</h4>
<p>This section captures information about customer orders and their variability.</p>
<ul>
<li><strong>Data Aggregation Unit Time (データ集計単位時間):</strong> This defines the time unit for collecting order data (e.g., daily, weekly, monthly). If order data is collected daily, the unit time is 1 day.</li>
<li><strong>Average Number of Orders (平均受注件数):</strong> The average number of orders received per unit time.</li>
<li><strong>Standard Deviation of Number of Orders (件数・標準偏差):</strong> The standard deviation of the number of orders received per unit time, indicating the variability in order frequency.</li>
<li><strong>Average Order Quantity per Order (平均受注数量/件):</strong> The average quantity of items per order. This should ideally be calculated from the same data used for the number of orders.</li>
<li><strong>Standard Deviation of Order Quantity per Order (量/件・標準偏差):</strong> The standard deviation of the quantity per order, reflecting variability in order size.</li>
</ul>
</section>
<section id="delivery-lead-time-納入リードタイム" class="level4">
<h4 class="anchored" data-anchor-id="delivery-lead-time-納入リードタイム">2. Delivery Lead Time (納入リードタイム)</h4>
<p>This refers to the time from placing an order until the goods are received in inventory.</p>
<ul>
<li><strong>Average Delivery Lead Time (平均納入リードタイム):</strong> The average time it takes for an order to be delivered. This should be in the same time unit as the data aggregation unit time.</li>
<li><strong>Standard Deviation of Delivery Lead Time (標準偏差):</strong> The standard deviation of the delivery lead time. If there is no variability, this value should be 0.</li>
</ul>
<p><em>Note: While the website primarily uses standard deviation for variability, it mentions that if variance or coefficient of variation data is available, it can be converted to standard deviation using the formula: Standard Deviation =</em> <span class="math inline">\(\sqrt{\text{Variance}}\)</span> or Standard Deviation = Average Value <span class="math inline">\(\times\)</span> Coefficient of Variation.</p>
</section>
<section id="calculation-execution-計算実行" class="level4">
<h4 class="anchored" data-anchor-id="calculation-execution-計算実行">3. Calculation Execution (計算実行)</h4>
<p>This section involves setting the service level and defining the ordering policy.</p>
<ul>
<li><p><strong>Service Rate (サービス率):</strong> This is the desired percentage of customer demand to be met from stock, ranging from 50% to 99%. It is inversely related to the stockout rate (Service Rate = 100% - Stockout Rate).</p></li>
<li><p><strong>Order Interval Guideline (発注間隔目安):</strong> An approximate frequency of ordering, based on current practice or experience. This helps in setting initial values for the ordering methods.</p></li>
<li><p><strong>Apply Conditions (条件反映):</strong> Clicking this button populates the fields for Quantity-Based Ordering, Time-Based Ordering, and Order-Count Based Ordering with equivalent values derived from the “Order Interval Guideline.”</p>
<ul>
<li><strong>Quantity-Based Order Quantity (定量発注量):</strong> The fixed quantity to order when inventory reaches a reorder point.</li>
<li><strong>Time-Based Order Interval (定期発注間隔):</strong> The fixed time interval between orders.</li>
<li><strong>Order-Count Based Order Count (定件発注件数):</strong> The fixed number of orders to trigger a replenishment.</li>
</ul>
<p><em>Note: While all three ordering methods can be compared simultaneously, unnecessary methods can be set to 0.</em></p></li>
</ul>
<p>Clicking the <strong>“Calculate Execution” (計算実行)</strong> button displays the calculation results for “Replenishment Inventory” (平均 and 分散) and “Optimal Inventory” (適正在庫).</p>
</section>
</section>
<section id="example-calculation" class="level3">
<h3 class="anchored" data-anchor-id="example-calculation">Example Calculation</h3>
<p>The website provides an example calculation with the following conditions:</p>
<ul>
<li>Data aggregation unit time: 1 day (24 hours)</li>
<li>Average number of orders: 2 orders/day, Standard deviation: 1.41</li>
<li>Average quantity per order: 5 units, Standard deviation: 1.25</li>
<li>Delivery lead time: 10 days (constant, so standard deviation: 0)</li>
<li>Order cycle guideline: 4 days</li>
</ul>
<p>Inputting these values and clicking “Apply Conditions” yields:</p>
<ul>
<li>Quantity-Based Order Quantity: 40.0 (calculated as 4 days * 2 orders/day * 5 units/order)</li>
<li>Time-Based Order Interval: 4.0</li>
<li>Order-Count Based Order Count: 8.0 (calculated as 4 days * 2 orders/day)</li>
</ul>
<p>Setting the service rate to 99% and clicking “Calculate Execution” produces the following results:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">Ordering Method</th>
<th style="text-align: left;">Average</th>
<th style="text-align: left;">Variance</th>
<th style="text-align: left;">Optimal Inventory</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Quantity-Based</td>
<td style="text-align: left;">122.5</td>
<td style="text-align: left;">674.1</td>
<td style="text-align: left;">183</td>
</tr>
<tr class="even">
<td style="text-align: left;">Time-Based</td>
<td style="text-align: left;">120.0</td>
<td style="text-align: left;">773.5</td>
<td style="text-align: left;">185</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Order-Count Based</td>
<td style="text-align: left;">117.5</td>
<td style="text-align: left;">672.5</td>
<td style="text-align: left;">178</td>
</tr>
</tbody>
</table>
</section>
<section id="underlying-calculation-formulas" class="level3">
<h3 class="anchored" data-anchor-id="underlying-calculation-formulas">Underlying Calculation Formulas</h3>
<p>The website provides the following formulas for calculating the average and variance of replenishment inventory for each ordering method:</p>
<p><strong>定件発注 (Order-Count Based Ordering)</strong></p>
<p><span class="math display">\[\text{Average} = \bar{Q} \cdot \left(\bar{N} + \frac{N_c - 1}{2}\right)\]</span></p>
<p><span class="math display">\[\text{Variance} = \bar{Q}^2 \cdot (V_n + \bar{N}^2 \cdot C_t^2) + (\bar{N} + N_c - 1) \cdot V_q + \frac{(\bar{Q} \cdot N_c)^2}{12}\]</span></p>
<p><strong>定期発注 (Time-Based Ordering)</strong></p>
<p><span class="math display">\[\text{Average} = \bar{Q} \cdot \left(\bar{N} + \frac{\bar{N_y}}{2}\right)\]</span></p>
<p><span class="math display">\[\text{Variance} = \bar{Q}^2 \cdot (V_n + \bar{N}^2 \cdot C_t^2) + (\bar{N} + \bar{N_y}) \cdot V_q + \frac{(\bar{Q} \cdot \bar{N_y})^2}{12}\]</span></p>
<p><strong>定量発注 (Quantity-Based Ordering)</strong></p>
<p><span class="math display">\[\text{Average} = \bar{Q} \cdot \left(\bar{N} + \frac{1}{2}\right) + \frac{O_c}{2}\]</span></p>
<p><span class="math display">\[\text{Variance} = \bar{Q}^2 \cdot (V_n + \bar{N}^2 \cdot C_t^2) + (\bar{N} + \frac{1}{2}) \cdot V_q + \frac{O_c^2}{12}\]</span></p>
<p>Where: * <span class="math inline">\(N\)</span>: Number of orders per delivery lead time * <span class="math inline">\(V_n\)</span>: Variance of <span class="math inline">\(N\)</span> * <span class="math inline">\(Q\)</span>: Quantity per order * <span class="math inline">\(V_q\)</span>: Variance of <span class="math inline">\(Q\)</span> * <span class="math inline">\(N_c\)</span>: Fixed number of orders for order-count based ordering * <span class="math inline">\(N_y\)</span>: Number of orders per order cycle (interval) * <span class="math inline">\(V_{ny}\)</span>: Variance of <span class="math inline">\(N_y\)</span> * <span class="math inline">\(C_t\)</span>: Coefficient of variation of delivery lead time * <span class="math inline">\(O_c\)</span>: Fixed order quantity for quantity-based ordering * <span class="math inline">\(\bar{X}\)</span>: Average value of <span class="math inline">\(X\)</span></p>
<p>These formulas are crucial for understanding the mathematical basis of the optimal inventory calculation. They highlight how the variability in demand and lead time, along with the chosen ordering policy, directly impacts the required replenishment inventory and, consequently, the optimal inventory level.</p>
</section>
<section id="interactive-optimal-inventory-calculator" class="level3">
<h3 class="anchored">Interactive Optimal Inventory Calculator</h3>
<p>This interactive tool allows you to calculate optimal inventory levels based on various demand and lead time parameters.</p>
<div id="app-ui">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fluidPage</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">"Optimal Inventory Calculator"</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h4</span>(<span class="st">"1. Order Quantity"</span>),</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"data_unit_time"</span>, <span class="st">"Data Aggregation Unit Time (days)"</span>, <span class="at">value =</span> <span class="dv">1</span>, <span class="at">min =</span> <span class="dv">1</span>),</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"avg_orders"</span>, <span class="st">"Average Number of Orders (per day)"</span>, <span class="at">value =</span> <span class="dv">2</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"sd_orders"</span>, <span class="st">"Standard Deviation of Number of Orders"</span>, <span class="at">value =</span> <span class="fl">1.41</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"avg_qty_per_order"</span>, <span class="st">"Average Quantity per Order"</span>, <span class="at">value =</span> <span class="dv">5</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"sd_qty_per_order"</span>, <span class="st">"Standard Deviation of Quantity per Order"</span>, <span class="at">value =</span> <span class="fl">1.25</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h4</span>(<span class="st">"2. Delivery Lead Time"</span>),</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"avg_lead_time"</span>, <span class="st">"Average Delivery Lead Time (days)"</span>, <span class="at">value =</span> <span class="dv">10</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"sd_lead_time"</span>, <span class="st">"Standard Deviation of Delivery Lead Time"</span>, <span class="at">value =</span> <span class="dv">0</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h4</span>(<span class="st">"3. Calculation Execution"</span>),</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(<span class="st">"service_rate"</span>, <span class="st">"Service Rate (%)"</span>, <span class="at">min =</span> <span class="dv">50</span>, <span class="at">max =</span> <span class="dv">99</span>, <span class="at">value =</span> <span class="dv">99</span>),</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"order_interval_guideline"</span>, <span class="st">"Order Interval Guideline (days)"</span>, <span class="at">value =</span> <span class="dv">4</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">actionButton</span>(<span class="st">"apply_conditions"</span>, <span class="st">"Apply Conditions"</span>),</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h5</span>(<span class="st">"Derived Ordering Parameters:"</span>),</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"qty_based_order_qty"</span>, <span class="st">"Quantity-Based Order Quantity"</span>, <span class="at">value =</span> <span class="dv">40</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"time_based_order_interval"</span>, <span class="st">"Time-Based Order Interval"</span>, <span class="at">value =</span> <span class="dv">4</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="st">"order_count_based_order_count"</span>, <span class="st">"Order-Count Based Order Count"</span>, <span class="at">value =</span> <span class="dv">8</span>, <span class="at">min =</span> <span class="dv">0</span>),</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">actionButton</span>(<span class="st">"calculate"</span>, <span class="st">"Calculate Optimal Inventory"</span>),</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">actionButton</span>(<span class="st">"reset"</span>, <span class="st">"Reset"</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h4</span>(<span class="st">"Calculation Results"</span>),</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tableOutput</span>(<span class="st">"results_table"</span>)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display no-overflow-x">
<div class="container-fluid">
<h2 class="anchored" data-anchor-id="interactive-optimal-inventory-calculator">Optimal Inventory Calculator</h2>
<div class="row">
<div class="col-sm-4">
<form class="well" role="complementary">
<h4 class="anchored">1. Order Quantity</h4>
<div class="form-group shiny-input-container">
<label class="control-label" id="data_unit_time-label" for="data_unit_time">Data Aggregation Unit Time (days)</label>
<input id="data_unit_time" type="number" class="shiny-input-number form-control" value="1" data-update-on="change" min="1">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="avg_orders-label" for="avg_orders">Average Number of Orders (per day)</label>
<input id="avg_orders" type="number" class="shiny-input-number form-control" value="2" data-update-on="change" min="0">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="sd_orders-label" for="sd_orders">Standard Deviation of Number of Orders</label>
<input id="sd_orders" type="number" class="shiny-input-number form-control" value="1.41" data-update-on="change" min="0">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="avg_qty_per_order-label" for="avg_qty_per_order">Average Quantity per Order</label>
<input id="avg_qty_per_order" type="number" class="shiny-input-number form-control" value="5" data-update-on="change" min="0">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="sd_qty_per_order-label" for="sd_qty_per_order">Standard Deviation of Quantity per Order</label>
<input id="sd_qty_per_order" type="number" class="shiny-input-number form-control" value="1.25" data-update-on="change" min="0">
</div>
<h4 class="anchored">2. Delivery Lead Time</h4>
<div class="form-group shiny-input-container">
<label class="control-label" id="avg_lead_time-label" for="avg_lead_time">Average Delivery Lead Time (days)</label>
<input id="avg_lead_time" type="number" class="shiny-input-number form-control" value="10" data-update-on="change" min="0">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="sd_lead_time-label" for="sd_lead_time">Standard Deviation of Delivery Lead Time</label>
<input id="sd_lead_time" type="number" class="shiny-input-number form-control" value="0" data-update-on="change" min="0">
</div>
<h4 class="anchored">3. Calculation Execution</h4>
<div class="form-group shiny-input-container">
<label class="control-label" id="service_rate-label" for="service_rate">Service Rate (%)</label>
<input class="js-range-slider" id="service_rate" data-skin="shiny" data-min="50" data-max="99" data-from="99" data-step="1" data-grid="true" data-grid-num="9.8" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="order_interval_guideline-label" for="order_interval_guideline">Order Interval Guideline (days)</label>
<input id="order_interval_guideline" type="number" class="shiny-input-number form-control" value="4" data-update-on="change" min="0">
</div>
<button id="apply_conditions" type="button" class="btn btn-default action-button">Apply Conditions</button>
<h5 class="anchored">Derived Ordering Parameters:</h5>
<div class="form-group shiny-input-container">
<label class="control-label" id="qty_based_order_qty-label" for="qty_based_order_qty">Quantity-Based Order Quantity</label>
<input id="qty_based_order_qty" type="number" class="shiny-input-number form-control" value="40" data-update-on="change" min="0">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="time_based_order_interval-label" for="time_based_order_interval">Time-Based Order Interval</label>
<input id="time_based_order_interval" type="number" class="shiny-input-number form-control" value="4" data-update-on="change" min="0">
</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="order_count_based_order_count-label" for="order_count_based_order_count">Order-Count Based Order Count</label>
<input id="order_count_based_order_count" type="number" class="shiny-input-number form-control" value="8" data-update-on="change" min="0">
</div>
<button id="calculate" type="button" class="btn btn-default action-button">Calculate Optimal Inventory</button>
<button id="reset" type="button" class="btn btn-default action-button">Reset</button>
</form>
</div>
<div class="col-sm-8" role="main">
<h4 class="anchored">Calculation Results</h4>
<div id="results_table" class="shiny-html-output shiny-table-output"></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="app-server">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(input, output, session) {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">observeEvent</span>(input<span class="sc">$</span>apply_conditions, {</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req</span>(input<span class="sc">$</span>data_unit_time, input<span class="sc">$</span>avg_orders, input<span class="sc">$</span>avg_qty_per_order, input<span class="sc">$</span>order_interval_guideline)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    qty_based <span class="ot">&lt;-</span> input<span class="sc">$</span>order_interval_guideline <span class="sc">*</span> input<span class="sc">$</span>avg_orders <span class="sc">*</span> input<span class="sc">$</span>avg_qty_per_order</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    order_count_based <span class="ot">&lt;-</span> input<span class="sc">$</span>order_interval_guideline <span class="sc">*</span> input<span class="sc">$</span>avg_orders</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"qty_based_order_qty"</span>, <span class="at">value =</span> qty_based)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"time_based_order_interval"</span>, <span class="at">value =</span> input<span class="sc">$</span>order_interval_guideline)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"order_count_based_order_count"</span>, <span class="at">value =</span> order_count_based)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">observeEvent</span>(input<span class="sc">$</span>reset, {</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"data_unit_time"</span>, <span class="at">value =</span> <span class="dv">1</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"avg_orders"</span>, <span class="at">value =</span> <span class="dv">2</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"sd_orders"</span>, <span class="at">value =</span> <span class="fl">1.41</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"avg_qty_per_order"</span>, <span class="at">value =</span> <span class="dv">5</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"sd_qty_per_order"</span>, <span class="at">value =</span> <span class="fl">1.25</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"avg_lead_time"</span>, <span class="at">value =</span> <span class="dv">10</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"sd_lead_time"</span>, <span class="at">value =</span> <span class="dv">0</span>)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateSliderInput</span>(session, <span class="st">"service_rate"</span>, <span class="at">value =</span> <span class="dv">99</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"order_interval_guideline"</span>, <span class="at">value =</span> <span class="dv">4</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"qty_based_order_qty"</span>, <span class="at">value =</span> <span class="dv">40</span>)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"time_based_order_interval"</span>, <span class="at">value =</span> <span class="dv">4</span>)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateNumericInput</span>(session, <span class="st">"order_count_based_order_count"</span>, <span class="at">value =</span> <span class="dv">8</span>)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    output<span class="sc">$</span>results_table <span class="ot">&lt;-</span> <span class="fu">renderTable</span>(<span class="cn">NULL</span>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>results_table <span class="ot">&lt;-</span> <span class="fu">renderTable</span>({</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req</span>(input<span class="sc">$</span>calculate)</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input parameters</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    data_unit_time <span class="ot">&lt;-</span> input<span class="sc">$</span>data_unit_time</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    avg_orders <span class="ot">&lt;-</span> input<span class="sc">$</span>avg_orders</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    sd_orders <span class="ot">&lt;-</span> input<span class="sc">$</span>sd_orders</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    avg_qty_per_order <span class="ot">&lt;-</span> input<span class="sc">$</span>avg_qty_per_order</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    sd_qty_per_order <span class="ot">&lt;-</span> input<span class="sc">$</span>sd_qty_per_order</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    avg_lead_time <span class="ot">&lt;-</span> input<span class="sc">$</span>avg_lead_time</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>    sd_lead_time <span class="ot">&lt;-</span> input<span class="sc">$</span>sd_lead_time</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>    service_rate <span class="ot">&lt;-</span> input<span class="sc">$</span>service_rate <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate N and Vn (Number of orders per delivery LT)</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>    N_bar <span class="ot">&lt;-</span> avg_orders <span class="sc">*</span> avg_lead_time</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    Vn <span class="ot">&lt;-</span> (sd_orders<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> avg_lead_time) <span class="sc">+</span> (avg_orders<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> sd_lead_time<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate Q_bar and Vq (Quantity per order)</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    Q_bar <span class="ot">&lt;-</span> avg_qty_per_order</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>    Vq <span class="ot">&lt;-</span> sd_qty_per_order<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate Ct (Coefficient of variation of delivery lead time)</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>    Ct <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(avg_lead_time <span class="sc">&gt;</span> <span class="dv">0</span>, sd_lead_time <span class="sc">/</span> avg_lead_time, <span class="dv">0</span>)</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Ordering Method"</span> <span class="ot">=</span> <span class="fu">character</span>(),</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Average"</span> <span class="ot">=</span> <span class="fu">numeric</span>(),</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Variance"</span> <span class="ot">=</span> <span class="fu">numeric</span>(),</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Optimal Inventory"</span> <span class="ot">=</span> <span class="fu">numeric</span>(),</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Quantity-Based Ordering</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>    Oc <span class="ot">&lt;-</span> input<span class="sc">$</span>qty_based_order_qty</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (Oc <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>      mean_qty_based <span class="ot">&lt;-</span> Q_bar <span class="sc">*</span> (N_bar <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">+</span> Oc <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>      var_qty_based <span class="ot">&lt;-</span> Q_bar<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> (Vn <span class="sc">+</span> N_bar<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> Ct<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> (N_bar <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">*</span> Vq <span class="sc">+</span> Oc<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">12</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>      optimal_qty_based <span class="ot">&lt;-</span> mean_qty_based <span class="sc">+</span> <span class="fu">qnorm</span>(service_rate) <span class="sc">*</span> <span class="fu">sqrt</span>(var_qty_based)</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>      results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results, <span class="fu">data.frame</span>(</span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Ordering Method"</span> <span class="ot">=</span> <span class="st">"Quantity-Based"</span>,</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Average"</span> <span class="ot">=</span> <span class="fu">round</span>(mean_qty_based, <span class="dv">1</span>),</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Variance"</span> <span class="ot">=</span> <span class="fu">round</span>(var_qty_based, <span class="dv">1</span>),</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Optimal Inventory"</span> <span class="ot">=</span> <span class="fu">round</span>(optimal_qty_based)</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>      ))</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Time-Based Ordering</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>    Ny_bar <span class="ot">&lt;-</span> input<span class="sc">$</span>time_based_order_interval <span class="sc">*</span> avg_orders</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>    Vny <span class="ot">&lt;-</span> input<span class="sc">$</span>time_based_order_interval <span class="sc">*</span> sd_orders<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (input<span class="sc">$</span>time_based_order_interval <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>      mean_time_based <span class="ot">&lt;-</span> Q_bar <span class="sc">*</span> (N_bar <span class="sc">+</span> Ny_bar <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>      var_time_based <span class="ot">&lt;-</span> Q_bar<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> (Vn <span class="sc">+</span> N_bar<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> Ct<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> (N_bar <span class="sc">+</span> Ny_bar) <span class="sc">*</span> Vq <span class="sc">+</span> (Q_bar <span class="sc">*</span> Ny_bar)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">12</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>      optimal_time_based <span class="ot">&lt;-</span> mean_time_based <span class="sc">+</span> <span class="fu">qnorm</span>(service_rate) <span class="sc">*</span> <span class="fu">sqrt</span>(var_time_based)</span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>      results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results, <span class="fu">data.frame</span>(</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Ordering Method"</span> <span class="ot">=</span> <span class="st">"Time-Based"</span>,</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Average"</span> <span class="ot">=</span> <span class="fu">round</span>(mean_time_based, <span class="dv">1</span>),</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Variance"</span> <span class="ot">=</span> <span class="fu">round</span>(var_time_based, <span class="dv">1</span>),</span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Optimal Inventory"</span> <span class="ot">=</span> <span class="fu">round</span>(optimal_time_based)</span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>      ))</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Order-Count Based Ordering</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>    Nc <span class="ot">&lt;-</span> input<span class="sc">$</span>order_count_based_order_count</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (Nc <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>      mean_order_count_based <span class="ot">&lt;-</span> Q_bar <span class="sc">*</span> (N_bar <span class="sc">+</span> (Nc <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>      var_order_count_based <span class="ot">&lt;-</span> Q_bar<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> (Vn <span class="sc">+</span> N_bar<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> Ct<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> (N_bar <span class="sc">+</span> Nc <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> Vq <span class="sc">+</span> (Q_bar <span class="sc">*</span> Nc)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="dv">12</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>      optimal_order_count_based <span class="ot">&lt;-</span> mean_order_count_based <span class="sc">+</span> <span class="fu">qnorm</span>(service_rate) <span class="sc">*</span> <span class="fu">sqrt</span>(var_order_count_based)</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>      results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results, <span class="fu">data.frame</span>(</span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Ordering Method"</span> <span class="ot">=</span> <span class="st">"Order-Count Based"</span>,</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Average"</span> <span class="ot">=</span> <span class="fu">round</span>(mean_order_count_based, <span class="dv">1</span>),</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Variance"</span> <span class="ot">=</span> <span class="fu">round</span>(var_order_count_based, <span class="dv">1</span>),</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Optimal Inventory"</span> <span class="ot">=</span> <span class="fu">round</span>(optimal_order_count_based)</span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>      ))</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>    results</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (input, output, session) 
{
    observeEvent(input$apply_conditions, {
        req(input$data_unit_time, input$avg_orders, input$avg_qty_per_order, 
            input$order_interval_guideline)
        qty_based &lt;- input$order_interval_guideline * input$avg_orders * 
            input$avg_qty_per_order
        order_count_based &lt;- input$order_interval_guideline * 
            input$avg_orders
        updateNumericInput(session, "qty_based_order_qty", value = qty_based)
        updateNumericInput(session, "time_based_order_interval", 
            value = input$order_interval_guideline)
        updateNumericInput(session, "order_count_based_order_count", 
            value = order_count_based)
    })
    observeEvent(input$reset, {
        updateNumericInput(session, "data_unit_time", value = 1)
        updateNumericInput(session, "avg_orders", value = 2)
        updateNumericInput(session, "sd_orders", value = 1.41)
        updateNumericInput(session, "avg_qty_per_order", value = 5)
        updateNumericInput(session, "sd_qty_per_order", value = 1.25)
        updateNumericInput(session, "avg_lead_time", value = 10)
        updateNumericInput(session, "sd_lead_time", value = 0)
        updateSliderInput(session, "service_rate", value = 99)
        updateNumericInput(session, "order_interval_guideline", 
            value = 4)
        updateNumericInput(session, "qty_based_order_qty", value = 40)
        updateNumericInput(session, "time_based_order_interval", 
            value = 4)
        updateNumericInput(session, "order_count_based_order_count", 
            value = 8)
        output$results_table &lt;- renderTable(NULL)
    })
    output$results_table &lt;- renderTable({
        req(input$calculate)
        data_unit_time &lt;- input$data_unit_time
        avg_orders &lt;- input$avg_orders
        sd_orders &lt;- input$sd_orders
        avg_qty_per_order &lt;- input$avg_qty_per_order
        sd_qty_per_order &lt;- input$sd_qty_per_order
        avg_lead_time &lt;- input$avg_lead_time
        sd_lead_time &lt;- input$sd_lead_time
        service_rate &lt;- input$service_rate/100
        N_bar &lt;- avg_orders * avg_lead_time
        Vn &lt;- (sd_orders^2 * avg_lead_time) + (avg_orders^2 * 
            sd_lead_time^2)
        Q_bar &lt;- avg_qty_per_order
        Vq &lt;- sd_qty_per_order^2
        Ct &lt;- ifelse(avg_lead_time &gt; 0, sd_lead_time/avg_lead_time, 
            0)
        results &lt;- data.frame(`Ordering Method` = character(), 
            Average = numeric(), Variance = numeric(), `Optimal Inventory` = numeric(), 
            stringsAsFactors = FALSE)
        Oc &lt;- input$qty_based_order_qty
        if (Oc &gt; 0) {
            mean_qty_based &lt;- Q_bar * (N_bar + 0.5) + Oc/2
            var_qty_based &lt;- Q_bar^2 * (Vn + N_bar^2 * Ct^2) + 
                (N_bar + 0.5) * Vq + Oc^2/12
            optimal_qty_based &lt;- mean_qty_based + qnorm(service_rate) * 
                sqrt(var_qty_based)
            results &lt;- rbind(results, data.frame(`Ordering Method` = "Quantity-Based", 
                Average = round(mean_qty_based, 1), Variance = round(var_qty_based, 
                  1), `Optimal Inventory` = round(optimal_qty_based)))
        }
        Ny_bar &lt;- input$time_based_order_interval * avg_orders
        Vny &lt;- input$time_based_order_interval * sd_orders^2
        if (input$time_based_order_interval &gt; 0) {
            mean_time_based &lt;- Q_bar * (N_bar + Ny_bar/2)
            var_time_based &lt;- Q_bar^2 * (Vn + N_bar^2 * Ct^2) + 
                (N_bar + Ny_bar) * Vq + (Q_bar * Ny_bar)^2/12
            optimal_time_based &lt;- mean_time_based + qnorm(service_rate) * 
                sqrt(var_time_based)
            results &lt;- rbind(results, data.frame(`Ordering Method` = "Time-Based", 
                Average = round(mean_time_based, 1), Variance = round(var_time_based, 
                  1), `Optimal Inventory` = round(optimal_time_based)))
        }
        Nc &lt;- input$order_count_based_order_count
        if (Nc &gt; 0) {
            mean_order_count_based &lt;- Q_bar * (N_bar + (Nc - 
                1)/2)
            var_order_count_based &lt;- Q_bar^2 * (Vn + N_bar^2 * 
                Ct^2) + (N_bar + Nc - 1) * Vq + (Q_bar * Nc)^2/12
            optimal_order_count_based &lt;- mean_order_count_based + 
                qnorm(service_rate) * sqrt(var_order_count_based)
            results &lt;- rbind(results, data.frame(`Ordering Method` = "Order-Count Based", 
                Average = round(mean_order_count_based, 1), Variance = round(var_order_count_based, 
                  1), `Optimal Inventory` = round(optimal_order_count_based)))
        }
        results
    })
}</code></pre>
</div>
</div>
</div>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>Calculating optimal inventory is a critical aspect of effective supply chain management. By understanding the various input parameters, the underlying mathematical formulas, and embracing a dynamic approach, businesses can minimize costs associated with holding excess inventory while ensuring high service levels. The integration of interactive tools, such as a Shiny application, can further enhance the understanding and practical application of these concepts.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>